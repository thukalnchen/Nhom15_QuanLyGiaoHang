# ğŸ“¦ HÆ¯á»šNG DáºªN NHáº¬N HÃ€NG - APP INTAKE

## ğŸ¯ Má»¤C ÄÃCH
NhÃ¢n viÃªn kho nháº­n gÃ³i hÃ ng tá»« khÃ¡ch hÃ ng, nháº­p thÃ´ng tin THá»°C Táº¾ vÃ  chá»¥p áº£nh Ä‘á»ƒ lÆ°u vÃ o há»‡ thá»‘ng.

---

## âœ… QUY TRÃŒNH NHáº¬N HÃ€NG (2 CÃCH)

### **CÃCH 1: QUÃ‰T MÃƒ QR** âš¡ (Nhanh nháº¥t - KhuyÃªn dÃ¹ng)

```
1. Má»Ÿ app_intake â†’ MÃ n hÃ¬nh Home
2. Báº¥m nÃºt "QuÃ©t mÃ£" (icon QR scanner - floating button gÃ³c dÆ°á»›i)
3. Camera má»Ÿ â†’ QuÃ©t QR code trÃªn Ä‘Æ¡n hÃ ng
4. Tá»± Ä‘á»™ng má»Ÿ mÃ n hÃ¬nh "Nháº­n hÃ ng" (Order Intake Screen)
5. Nháº­p thÃ´ng tin thá»±c táº¿ â†“
```

### **CÃCH 2: Tá»ª DANH SÃCH ÄÆ N HÃ€NG** ğŸ“‹

```
1. Má»Ÿ app_intake â†’ Báº¥m "ÄÆ¡n hÃ ng" á»Ÿ bottom nav
2. Chá»n tab "Chá» nháº­n" (18 Ä‘Æ¡n Ä‘ang chá»)
3. Tap vÃ o 1 Ä‘Æ¡n hÃ ng báº¥t ká»³
4. Tá»± Ä‘á»™ng má»Ÿ mÃ n hÃ¬nh "Nháº­n hÃ ng" (Order Intake Screen)
5. Nháº­p thÃ´ng tin thá»±c táº¿ â†“
```

---

## ğŸ“ NHáº¬P THÃ”NG TIN THá»°C Táº¾

Khi mÃ n hÃ¬nh **Order Intake Screen** má»Ÿ ra:

### **A. ThÃ´ng tin Ä‘Æ¡n hÃ ng hiá»ƒn thá»‹:**
- âœ… MÃ£ Ä‘Æ¡n hÃ ng (Order Code)
- âœ… ThÃ´ng tin ngÆ°á»i gá»­i
- âœ… ThÃ´ng tin ngÆ°á»i nháº­n
- âœ… Äá»‹a chá»‰ láº¥y/giao hÃ ng
- â­• Æ¯á»›c lÆ°á»£ng cá»§a khÃ¡ch (náº¿u cÃ³):
  - Size dá»± kiáº¿n
  - CÃ¢n náº·ng dá»± kiáº¿n
  - Loáº¡i xe
  - Ghi chÃº

### **B. Báº¡n cáº§n nháº­p:**

1. **ğŸ“ KÃ­ch thÆ°á»›c** (Báº¯t buá»™c)
   ```
   â–¡ Small        (< 20cm)
   â–¡ Medium       (20-40cm)
   â–¡ Large        (40-60cm)
   â–¡ Extra Large  (> 60cm)
   ```

2. **âš–ï¸ CÃ¢n náº·ng thá»±c táº¿** (Báº¯t buá»™c)
   ```
   VÃ­ dá»¥: 2.5 (kg)
   ```

3. **ğŸ“¦ Loáº¡i hÃ ng** (Báº¯t buá»™c)
   ```
   â–¡ Food         (Thá»±c pháº©m)
   â–¡ Electronics  (Äiá»‡n tá»­)
   â–¡ Documents    (TÃ i liá»‡u)
   â–¡ Fragile      (HÃ ng dá»… vá»¡)
   â–¡ Other        (KhÃ¡c)
   ```

4. **ğŸ“· Chá»¥p áº£nh** (Tá»‘i Ä‘a 4 áº£nh)
   ```
   - áº¢nh 1: ToÃ n cáº£nh gÃ³i hÃ ng
   - áº¢nh 2: NhÃ£n Ä‘á»‹a chá»‰
   - áº¢nh 3: MÃ£ Ä‘Æ¡n hÃ ng/QR code
   - áº¢nh 4: TÃ¬nh tráº¡ng gÃ³i hÃ ng
   
   CÃ³ thá»ƒ:
   - Chá»¥p áº£nh ngay (Camera)
   - Chá»n tá»« thÆ° viá»‡n
   - XÃ³a áº£nh Ä‘Ã£ chá»n
   ```

5. **ğŸ“ Ghi chÃº** (KhÃ´ng báº¯t buá»™c)
   ```
   VÃ­ dá»¥:
   - "ÄÃ£ kiá»ƒm tra ká»¹, khÃ´ng bá»‹ hÆ° há»ng"
   - "KhÃ¡ch yÃªu cáº§u giao cáº©n tháº­n"
   - "GÃ³i hÃ ng Æ°á»›t má»™t gÃ³c"
   ```

### **C. XÃ¡c nháº­n nháº­n hÃ ng:**
```
6. Kiá»ƒm tra láº¡i táº¥t cáº£ thÃ´ng tin
7. Báº¥m nÃºt "XÃ¡c nháº­n nháº­n hÃ ng" mÃ u xanh
8. âœ… ThÃ´ng bÃ¡o thÃ nh cÃ´ng
9. âœ… Tá»± Ä‘á»™ng quay vá» mÃ n hÃ¬nh trÆ°á»›c
10. âœ… Status Ä‘Æ¡n hÃ ng: pending â†’ received_at_warehouse
```

---

## ğŸ”„ SAU KHI NHáº¬N HÃ€NG

### **ÄÆ¡n hÃ ng sáº½ chuyá»ƒn sang:**

```
Tab "ÄÆ¡n hÃ ng" â†’ "ÄÃ£ nháº­n"
     â†“
Tab "Kho hÃ ng" â†’ "Cáº§n phÃ¢n loáº¡i"
     â†“
Sáºµn sÃ ng cho Story #9: Classification (PhÃ¢n loáº¡i)
```

### **Kiá»ƒm tra:**
1. VÃ o **Tab "Kho hÃ ng"**
2. Chá»n tab **"Cáº§n phÃ¢n loáº¡i"**
3. âœ… ÄÆ¡n hÃ ng vá»«a nháº­n sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y
4. âœ… Status badge: "ÄÃ£ nháº­n táº¡i kho" (mÃ u cam)

---

## âš ï¸ LÆ¯U Ã QUAN TRá»ŒNG

### âŒ **KHÃ”NG THá»‚**:
- Chá»‰nh sá»­a status trá»±c tiáº¿p tá»« "Chá» nháº­n" â†’ "ÄÃ£ nháº­n"
- Bá» qua bÆ°á»›c nháº­p thÃ´ng tin thá»±c táº¿
- Nháº­n hÃ ng mÃ  khÃ´ng chá»¥p áº£nh (cáº§n Ã­t nháº¥t 1 áº£nh)

### âœ… **PHáº¢I**:
- Qua mÃ n hÃ¬nh Order Intake Screen
- Nháº­p Ä‘áº§y Ä‘á»§: CÃ¢n náº·ng + KÃ­ch thÆ°á»›c + Loáº¡i hÃ ng
- Chá»¥p áº£nh Ä‘á»ƒ lÃ m báº±ng chá»©ng
- XÃ¡c nháº­n nháº­n hÃ ng báº±ng nÃºt "XÃ¡c nháº­n"

### ğŸ’¡ **Táº I SAO?**
- Cáº§n thÃ´ng tin THá»°C Táº¾ Ä‘á»ƒ tÃ­nh phÃ­ chÃ­nh xÃ¡c
- áº¢nh chá»¥p lÃ m báº±ng chá»©ng tÃ¬nh tráº¡ng hÃ ng khi nháº­n
- TrÃ¡nh tranh cháº¥p sau nÃ y
- Äáº£m báº£o quy trÃ¬nh minh báº¡ch

---

## ğŸ“Š HIá»†N TRáº NG DATABASE

Hiá»‡n táº¡i báº¡n cÃ³ **26 Ä‘Æ¡n hÃ ng**:

| Status | Sá»‘ lÆ°á»£ng | Ã nghÄ©a |
|--------|----------|---------|
| **pending** | 18 | Chá» nháº­n hÃ ng vÃ o kho |
| **received_at_warehouse** | 0 | ÄÃ£ nháº­n, chá» phÃ¢n loáº¡i |
| **classified** | 2 | ÄÃ£ phÃ¢n loáº¡i, chá» phÃ¢n tÃ i xáº¿ |
| **ready_for_pickup** | 0 | ÄÃ£ phÃ¢n tÃ i xáº¿, chá» láº¥y hÃ ng |

**â†’ TAB "Cáº¦N PHÃ‚N LOáº I" TRá»NG vÃ¬ khÃ´ng cÃ³ Ä‘Æ¡n nÃ o á»Ÿ tráº¡ng thÃ¡i `received_at_warehouse`**

---

## ğŸ§ª TEST NGAY:

### **BÆ°á»›c 1: Chá»n 1 Ä‘Æ¡n hÃ ng Ä‘á»ƒ test**
```bash
cd C:\Workspace\CNPM_nc\Nhom15_QuanLyGiaoHang\DoAnCNPMNC\backend
node scripts/check-orders.js
```
â†’ Láº¥y order_code cá»§a 1 Ä‘Æ¡n **pending**

### **BÆ°á»›c 2: Nháº­n hÃ ng**
**Option A: QuÃ©t QR**
1. Báº¥m "QuÃ©t mÃ£"
2. Scan QR code (hoáº·c nháº­p manual order_code)
3. Nháº­p thÃ´ng tin â†’ XÃ¡c nháº­n

**Option B: Tá»« danh sÃ¡ch**
1. Tab "ÄÆ¡n hÃ ng" â†’ "Chá» nháº­n"
2. Tap vÃ o Ä‘Æ¡n hÃ ng
3. Nháº­p thÃ´ng tin â†’ XÃ¡c nháº­n

### **BÆ°á»›c 3: Kiá»ƒm tra**
```
1. Tab "Kho hÃ ng" â†’ "Cáº§n phÃ¢n loáº¡i"
   âœ… CÃ³ 1 Ä‘Æ¡n má»›i nháº­n
   
2. Trang chá»§ â†’ "ÄÃ£ nháº­n"
   âœ… TÄƒng tá»« 0 â†’ 1
   
3. Tab "ÄÆ¡n hÃ ng" â†’ "ÄÃ£ nháº­n"
   âœ… CÃ³ 1 Ä‘Æ¡n vá»›i badge cam "ÄÃ£ nháº­n"
```

---

## ğŸ”— WORKFLOW Äáº¦Y Äá»¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    QUY TRÃŒNH WAREHOUSE                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. PENDING (18 Ä‘Æ¡n)
   â””â”€â–º KhÃ¡ch Ä‘áº·t hÃ ng qua app_user
       Status: "pending"
       â†“
       
2. RECEIVE (Story #8) â† Báº N Äang á» ÄÃ‚Y
   â””â”€â–º QuÃ©t QR hoáº·c chá»n tá»« danh sÃ¡ch
   â””â”€â–º Nháº­p: CÃ¢n náº·ng, kÃ­ch thÆ°á»›c, loáº¡i hÃ ng, 4 áº£nh
   â””â”€â–º XÃ¡c nháº­n nháº­n hÃ ng
       Status: "received_at_warehouse"
       â†“
       
3. CLASSIFY (Story #9)
   â””â”€â–º Tab "Cáº§n phÃ¢n loáº¡i" hiá»ƒn thá»‹ Ä‘Æ¡n
   â””â”€â–º Há»‡ thá»‘ng tá»± tÃ­nh phÃ­ dá»±a trÃªn thÃ´ng tin thá»±c táº¿
   â””â”€â–º PhÃ¢n loáº¡i Ä‘Æ¡n hÃ ng
       Status: "classified"
       â†“
       
4. ASSIGN DRIVER (Story #21)
   â””â”€â–º Tab "ÄÃ£ phÃ¢n loáº¡i" hiá»ƒn thá»‹ Ä‘Æ¡n
   â””â”€â–º Chá»n tÃ i xáº¿ phÃ¹ há»£p
   â””â”€â–º PhÃ¢n cÃ´ng giao hÃ ng
       Status: "ready_for_pickup"
       â†“
       
5. DELIVERY (app_driver)
   â””â”€â–º TÃ i xáº¿ láº¥y hÃ ng vÃ  giao
       Status: "delivered"
```

---

## ğŸ’¬ CÃ‚U Há»I THÆ¯á»œNG Gáº¶P

### Q1: Táº¡i sao khÃ´ng cho phÃ©p chá»‰nh sá»­a status trá»±c tiáº¿p?
**A:** VÃ¬ cáº§n thu tháº­p thÃ´ng tin THá»°C Táº¾ (cÃ¢n náº·ng, kÃ­ch thÆ°á»›c, áº£nh) Ä‘á»ƒ:
- TÃ­nh phÃ­ chÃ­nh xÃ¡c
- CÃ³ báº±ng chá»©ng phÃ¡p lÃ½
- Äáº£m báº£o minh báº¡ch

### Q2: CÃ³ báº¯t buá»™c pháº£i chá»¥p Ä‘á»§ 4 áº£nh khÃ´ng?
**A:** KhÃ´ng báº¯t buá»™c, nhÆ°ng khuyÃªn dÃ¹ng Ä‘á»ƒ cÃ³ báº±ng chá»©ng Ä‘áº§y Ä‘á»§.

### Q3: Náº¿u khÃ´ng cÃ³ QR code scanner thÃ¬ sao?
**A:** DÃ¹ng **CÃ¡ch 2** - chá»n tá»« danh sÃ¡ch Ä‘Æ¡n hÃ ng á»Ÿ tab "Chá» nháº­n".

### Q4: Sau khi nháº­n xong lÃ m gÃ¬ tiáº¿p?
**A:** Chuyá»ƒn sang **Story #9** - VÃ o tab "Cáº§n phÃ¢n loáº¡i" Ä‘á»ƒ phÃ¢n loáº¡i Ä‘Æ¡n.

---

## ğŸ“š TÃ€I LIá»†U LIÃŠN QUAN

- `WAREHOUSE_WORKFLOW.md` - Quy trÃ¬nh kho hÃ ng Ä‘áº§y Ä‘á»§
- `END_TO_END_TEST_GUIDE.md` - HÆ°á»›ng dáº«n test toÃ n bá»™
- `APP_INTAKE_SETUP.md` - Cáº¥u trÃºc app_intake
- `STORY_9_CLASSIFICATION_COMPLETE.md` - Story #9 tiáº¿p theo

---

**NEXT STEP:** Sau khi nháº­n hÃ ng xong â†’ Äá»c file `STORY_9_CLASSIFICATION_COMPLETE.md` Ä‘á»ƒ há»c cÃ¡ch phÃ¢n loáº¡i! ğŸš€
